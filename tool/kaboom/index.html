<!DOCTYPE html>
<html>
    <head>
        <!-- Required meta tags -->
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/css/bootstrap.min.css" rel="stylesheet" />
        <link href="style.css" rel="stylesheet" type="text/css" />
        <style>
            /* CSS */

        </style>

        <title>Title</title>
    </head>
    <body>
        <!-- HTML -->


        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/js/bootstrap.bundle.min.js"></script>
        <script src="script.js"></script>
        <script>
            // JS

</script>
<script type="module">

// import kaboom.js
import kaboom from "https://unpkg.com/kaboom@3000.0.1/dist/kaboom.mjs";

// initialize kaboom context

const k = kaboom();


k.loadSprite("bean", "assets/bean.png")

const speed = 200;

const bean = k.add([
	k.pos(120, 80),
	k.sprite("bean"),
	area(),
	body(),
])

loop(1, () => {
    add([
        rect(48, 64),
        area(),
        outline(4),
        pos(width(), height() - 48),
        anchor("botleft"),
        color(255, 180, 255),
        move(LEFT, 240),
        "tree",
    ]);
});

add([
    rect(width(), 48),
    pos(0, height() - 48),
    outline(4),
    area(),
    body({ isStatic: true }),
    color(127, 200, 255),
    "floor",
])

add([

])

bean.onCollide("floor", () => {
    addKaboom(bean.pos);
    shake();
});

bean.onCollide("tree", () => {
    addKaboom(bean.pos);
    shake();
});

    onKeyPress("space", () => {
    if (bean.isGrounded()) {
        bean.jump();
    }
    });

onKeyDown("d", () => {
	bean.move(speed, 0)
})

onKeyDown("a", () => {
	bean.move(-speed, 0)
})


k.onClick(() => k.addKaboom(k.mousePos()))
setGravity(1600)



</script>
    </body>
</html>
